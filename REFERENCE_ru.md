# Уровни абстракции (модули).
- `library` - подлежающий глобальному переписпользованию код.
- `system` - сетевой протокол и все технические детали реализации проекта.
- `logic` - уровень абстракции над техническим слоем. Позволяет управлять персонажем.
- `ai` - уровень сложного поведения. Обеспечивает управление классами персонажей.
- `script` - библиотека entry-point скрипта. Облегчает запуск конкретных игроков.


# Типы данных.

## Модуль `system`.

### Структура `connection`.
Содержит все данные игровой сессии. Соедржит технические структуры и структуру `world`. Большинство функций API зависят от `connection`.

Поля:
- `session-id`
- `protocol`
- `input-port`?
- `output-port`?
- `read-thread`
- `send-thread`
- ...

### Тип `packet`.
Базовый фрагмент данных, пригодный для сериализации и передачи по сети.

## Модуль `logic`.

### Структура `world`.
Содержит все данные игрового мира. Соответствует игровому серверу.

Поля:
- `server-id`
- `objects`
- `me`
- `inventory`
- `quick-panel`
- `skills`
- `quests`
- `party`
- `clans`
- `alliances`

### Тип `event`.
Базовое событие. Отражает всё происходящее с игровым миром. Может инициироваться системным или прикладным кодом.

### Тип `object` (абстрактный).
Любой физический объект игрового мира.

### Тип `creature` < `object` (абстрактный).
Одушевлённый объект (персонаж).

### Тип `npc` < `creature`.
Внутриигровой персонаж.

### Тип `character` < `creature` (абстрактный).
Управляемый человеком персонаж.

### Тип `antagonist` < `character`.
Чужой персонаж.

### Тип `protagonist` < `character`.
Ваш персонаж (игрок).

### Структура `inventory`.
Содержит множество `item`. Обычно инвентарь персонажа.

### Тип `item` < `object`.
Вещь на земле или в инвентаре.

### Структура `quick-panel`.
Панель быстрого доступа игрока.

### Тип `skill`.
Умение игрока.

### Тип `gesture`.
Жест игрока.


# Игровые операции (actions).

### Функция `connect(string? host, string? port)` → `connection?`.
Установка соединения с login-сервером. Возвращает игровую сессию.

### Функция `login(connection?, string? login, string? password)` → `(list world? ...)`.
Авторизация на login-сервере. Возвращает список game-серверов.

### Функция `select-server(connection?, server?)` → `(list protagonist? ...)`.
Выбор game-сервера. Возвращает список персонажей аккаунта.

### Функция `select-character(connection?, protagonist?)` → `evt?`.
Выбор игрового персонажа. Возвращает контекст синхронизации с игровыми событиями.

...


# Игровые события (events).
...
